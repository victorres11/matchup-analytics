# Team Page Creation Guidelines

This document outlines the standard structure and requirements for creating new team analytics pages in the weekly-matchup-analytics project.

## üìÅ File Structure

### Required Files for Each Team
```
data/csv/team_data/{team_name}/
‚îú‚îÄ‚îÄ {team_name}_offense.csv
‚îú‚îÄ‚îÄ {team_name}_defense.csv
‚îú‚îÄ‚îÄ {team_name}_kicking_specialists.csv
‚îú‚îÄ‚îÄ {team_name}_special_teams_season.csv
‚îî‚îÄ‚îÄ {team_name}_summary.csv

data/json/
‚îî‚îÄ‚îÄ {team_name}_multiweek.json (generated by conversion script)

assets/images/
‚îî‚îÄ‚îÄ {team_name}_logo.png

pages/
‚îî‚îÄ‚îÄ {team_name}.html
```

## üé® Page Structure Template

### 1. HTML Head Section
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{Team Name} - Multi-Week Snap Count Analytics</title>
    <link rel="icon" type="image/svg+xml" href="../assets/logos/Big_Ten_Conference_logo.svg">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Team-specific CSS with theme colors */
    </style>
</head>
```

### 2. CSS Theme Variables
```css
:root {
    --primary-color: #{team_primary_color};
    --secondary-color: #{team_secondary_color};
    --accent-color: #ffffff;
    --text-color: #333;
    --light-text-color: #f0f0f0;
    --background-gradient: linear-gradient(135deg, {primary} 0%, {secondary} 100%);
}
```

### 3. Required Page Sections (in order)

#### A. Header Section
```html
<div class="header">
    <div class="logos">
        <img src="../assets/images/{team_name}_logo.png" alt="{Team Name}" class="logo">
        <div class="divider"></div>
        <img src="../assets/logos/Big_Ten_Conference_logo.svg" alt="Big Ten Conference" class="logo">
    </div>
    <h1>{Team Name}</h1>
    <p class="subtitle">Multi-Week Snap Count Analytics Dashboard</p>
    <p class="timestamp" id="last-updated">Updated at <span id="update-time"></span></p>
    
    <!-- Matchup Link -->
    <div style="text-align: center; margin: 20px 0;">
        <a href="{opponent_team}.html" class="matchup-btn">
            <span class="matchup-icon">üèà</span>
            View {Opponent Team}
        </a>
    </div>
</div>
```

#### B. Stats Summary Grid
```html
<div class="stats-grid">
    <div class="stat-card">
        <h3>Total Offensive Snaps</h3>
        <div class="value" id="total-offensive-snaps">0</div>
    </div>
    <div class="stat-card">
        <h3>Total Defensive Snaps</h3>
        <div class="value" id="total-defensive-snaps">0</div>
    </div>
    <div class="stat-card">
        <h3>Avg Offensive Snaps</h3>
        <div class="value" id="avg-offensive-snaps">0</div>
    </div>
    <div class="stat-card">
        <h3>Avg Defensive Snaps</h3>
        <div class="value" id="avg-defensive-snaps">0</div>
    </div>
</div>
```

#### C. Weekly Summary Table
```html
<div class="weekly-summary">
    <h2>Weekly Snap Count Summary</h2>
    <p style="color: #ffffff; background-color: rgba({primary_rgb}, 0.8); padding: 8px 12px; border-radius: 6px; font-size: 0.9em; margin-bottom: 15px; border: 1px solid rgba(255, 255, 255, 0.3);">
        <strong>Note:</strong> * indicates player started that week
    </p>
    <div class="summary-table-container">
        <table class="summary-table">
            <thead>
                <tr>
                    <th>Week</th>
                    <th>Opponent</th>
                    <th>Date</th>
                    <th>Final Score</th>
                    <th>Home/Away</th>
                    <th>Offensive Snaps</th>
                    <th>Defensive Snaps</th>
                </tr>
            </thead>
            <tbody id="weekly-summary-data">
                <!-- Data populated by JavaScript -->
            </tbody>
        </table>
    </div>
</div>
```

#### D. Tab Navigation
```html
<div class="tabs">
    <button class="tab active" data-tab="offense">OFFENSIVE</button>
    <button class="tab" data-tab="defense">DEFENSIVE</button>
    <button class="tab" data-tab="special-teams">SPECIAL TEAMS</button>
</div>
```

#### E. Tab Content Sections
Each tab should contain:
- Individual position group charts
- **Aggregate tables at the bottom of OFFENSE and DEFENSE tabs**

### 4. Required CSS Classes

#### Position Group Background Colors
```css
.position-group-wr { background: rgba(255, 107, 107, 0.3) !important; }
.position-group-te { background: rgba(78, 205, 196, 0.2) !important; }
.position-group-rb { background: rgba(69, 183, 209, 0.3) !important; }
.position-group-ol { background: rgba(150, 206, 180, 0.2) !important; }
.position-group-qb { background: rgba(255, 193, 7, 0.3) !important; }
.position-group-dl { background: rgba(255, 234, 167, 0.3) !important; }
.position-group-lb { background: rgba(221, 160, 221, 0.2) !important; }
.position-group-db { background: rgba(255, 182, 193, 0.3) !important; }
```

#### Aggregate Table Styling
```css
.aggregate-table-container {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 20px;
    margin-top: 20px;
}

.sort-controls {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
    align-items: center;
}

.sort-btn {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9em;
    transition: all 0.3s ease;
}
```

### 5. Required JavaScript Functions

#### Core Functions (must be included)
- `loadTeamData()` - Loads team data from JSON
- `updateStats()` - Updates summary statistics
- `populateWeeklySummary()` - Populates weekly summary table
- `populateAggregateTables()` - Populates aggregate tables
- `populateOffenseAggregateTable()` - Offense aggregate data
- `populateDefenseAggregateTable()` - Defense aggregate data
- `sortAggregateTable(side, sortBy)` - Table sorting functionality
- `getRowData(row)` - Extracts row data for sorting
- `getPositionGroupFromPosition(position)` - Maps positions to groups
- `setupEventListeners()` - Sets up all event listeners

#### Default Sorting Logic
- **Default**: Position group, then high to low snaps within group
- **Sort Options**: Total snaps, Jersey number, Position group
- **Button Text**: "Sort by Position Group" (restores default)

### 6. Data Processing Requirements

#### CSV to JSON Conversion Script
Create `scripts/convert_{team_name}_data.js`:
```javascript
const fs = require('fs');
const csv = require('csv-parser');

// Process offense, defense, special teams, and summary data
// Output: {team_name}_multiweek.json
```

#### Required JSON Structure
```json
{
  "team": "{team_name}",
  "weeks": [
    {
      "week": 1,
      "offense": {
        "quarterbacks": [...],
        "running_backs": [...],
        "wide_receivers": [...],
        "tight_ends": [...],
        "offensive_line": [...]
      },
      "defense": {
        "defensive_line": [...],
        "linebackers": [...],
        "defensive_backs": [...]
      }
    }
  ],
  "summary": [
    {
      "week": 1,
      "opponent": "Team Name",
      "date": "MM/DD/YYYY",
      "final_score_team": "XX",
      "final_score_opponent": "XX",
      "home_away": "Home/Away",
      "offense_snaps": 0,
      "defense_snaps": 0
    }
  ]
}
```

## üîß Implementation Checklist

### Before Creating New Team Page:
- [ ] Gather CSV data files (offense, defense, special teams, summary)
- [ ] Obtain team logo (PNG format, save to `assets/images/`)
- [ ] Determine team theme colors
- [ ] Choose matchup opponent team

### During Page Creation:
- [ ] Copy template from existing team page (e.g., `nebraska.html`)
- [ ] Update all team-specific references
- [ ] Apply team theme colors to CSS variables
- [ ] Update logo paths and team names
- [ ] Set correct matchup link
- [ ] Run data conversion script
- [ ] Test all functionality

### After Page Creation:
- [ ] Verify all images load correctly
- [ ] Test tab switching
- [ ] Test aggregate table sorting
- [ ] Verify weekly summary displays
- [ ] Check responsive design
- [ ] Update main `index.html` with new team link

## üéØ Key Requirements

### Must Have:
- ‚úÖ Header with team and conference logos
- ‚úÖ Timestamp in header (not in stats grid)
- ‚úÖ Matchup link in header
- ‚úÖ 4 stat cards (no "Last Updated")
- ‚úÖ Weekly summary table
- ‚úÖ 3 tabs: OFFENSIVE, DEFENSIVE, SPECIAL TEAMS
- ‚úÖ Aggregate tables in OFFENSE and DEFENSE tabs
- ‚úÖ Position group color coding
- ‚úÖ Default sorting by position group
- ‚úÖ Responsive design

### Must Not Have:
- ‚ùå Separate AGGREGATE tab
- ‚ùå "Last Updated" stat card
- ‚ùå Missing position group colors
- ‚ùå Incorrect file paths
- ‚ùå Missing JavaScript functions

## üìù Naming Conventions

### Files:
- Team page: `{team_name}.html` (lowercase, hyphens for spaces)
- Logo: `{team_name}_logo.png`
- JSON data: `{team_name}_multiweek.json`
- CSV files: `{team_name}_{data_type}.csv`

### CSS Classes:
- Use kebab-case: `position-group-wr`, `aggregate-table`
- Team-specific: `{team_name}-theme` (if needed)

### JavaScript Functions:
- Use camelCase: `loadTeamData`, `populateAggregateTables`
- Generic functions work for all teams

## üöÄ Quick Start Template

1. Copy `pages/nebraska.html` to `pages/{team_name}.html`
2. Replace all "Nebraska" with "{Team Name}"
3. Replace all "nebraska" with "{team_name}"
4. Update theme colors in CSS variables
5. Update logo path and team references
6. Set correct matchup opponent
7. Run data conversion script
8. Test and validate

---

**Remember**: Consistency is key! Follow this structure exactly to maintain a professional, cohesive experience across all team pages.
